---
title: being an edge case
date: 2015-07-30
tags: [story time]
---

[asuka]: /about/boxen.html#asuka
[takara]: /about/boxen.html#takara

# being an edge case

## the story of upgrading to windows 10

This is the story of the last thirty or so hours of my life, and the many events
that led up to it. It's not so much a cautionary tale, or a woe is me whinefest,
or really anything other than a record of what I just went through to get
Windows 10 running on my desktop, [Asuka 2.0][asuka].

-----

## asuka 1.0

It starts in 2010, when I purchased a Gateway DX-4320 from Amazon to replace my
underpowered Dell desktop, Kimiko. Asuka was to be more future-proof, with more
memory, much more hard drive space, a better processor than ever before, and at
last a graphics card that wasn't the bottom-most in its class. I discovered the
memory couldn't be upgraded any further, and the GPU was still mid-grade at
best, but it ran everything I could throw at it and kept soldiering on. It had
Windows 7 out of the box, a much appreciated upgrade from Kimiko's Vista, even
if it took me a month to warm up to no-text taskbar icons, and with that much
hard drive space, plus another 2TB external drive I picked up with it, I had
more than I thought I'd ever need.

The problem was ventilation. My desk was rather enclosed, leaving the chassis
trying to draw air from one wall and expelling through a spaghetti of cable in
back. The house wasn't well ventilated either, becoming very hot and humid in
summers. Asuka's core temperature would frequently exceed 60C under load during
the hottest months. On top of that, my family had three dogs. Three shedding
dogs, in summer, which coupled with bad ventilation led to lots of dust.

I didn't dust Asuka 1.0 out remotely as much as I should have. She suffered at
least one bluescreen crash in the summer of 2012, following an attempt to stream
a round of Left 4 Dead 2 with Bronystate, and producing core temps over 80C. As
an AMD processor, the core's heatsink was in a very inconvenient arrangement to
clean out, and the fan started caking dust onto the sink. A couple years later,
the power supply's fan began suffering too, as its intake sat at the top of the
chassis, pointed to the tangle of power cables running card readers and the
optical drive. And the rear chassis fan started falling over soon after; the two
fans would buzz loudly if the system *wasn't* running them at full speed.

In early 2014, after moving to a new home, and a completely enclosed desk, the
power supply finally gave up, refusing to start one morning. Thankfully, modern
power supplies are standardized and idiot-proof, and I was able to replace it by
the afternoon without issue. As a bonus, it was a slightly more capacious PSU
than what it had replaced, giving me the option of perhaps someday upgrading the
graphics card to something that wouldn't choke on shader-crazy games.

-----

## asuka 2.0

Then fast forward to March 2015, slowly emerging from the stuffy air of a
Minnesota winter, and dust was building up again. Core temps when idling would
reach 55C and stay there, although the new power supply's massive downward
facing fan was helping the core fan keep the heatsink ventilated, and under load
the core wouldn't generally exceed 60.

Capacitors, however, are not so generously covered by heatsinks and high speed
fans, and the row of caps next to the core were fed up with the bad airflow. And
so one heinously stressful day, they gave up, instantly downing the system, and
refusing to produce power. In my panic to try and dust things out, and trying to
uncover the heatsink, I ended up pulling the CPU out of its socket -- the
thermal paste had fused to the heatsink block. Five capacitors on the board had
clearly ruptured, with a few others visibly bulging. Asuka 1.0 was officially
toast.

I was unemployed, and rather limited on money. I'd raised a couple hundred
dollars in donations from my dear friends at Bronystate, but I was intending for
it all to go towards starting transition, or at least making preparations for
it. And here landed in my lap a requirement to replace a motherboard, and CPU,
and given the chassis fan's slow demise, a chassis too.

I still had a laptop, and strained my back and shoulders hunched over the bed
with it, keeping in touch with Bronystate. We assembled the best possible build
I could afford with the remaining money from my fundraiser, with everyone's
approval that it would be better used keeping my livelihood intact than a
possible non-starter of transition. New chassis, new motherboard, new CPU. Rush
delivery.

The chassis was a normal black square, with red angles on the front rather
reminiscent of the lines on Asuka's namesake's plugsuit, and not too flashy or
demanding of complex cooling setups. Enough space to pack everything in, modern
fittings to enable future upgrades, and plenty of mounting points for fans, so
that the new box would never overheat again. The motherboard would support four
times the memory I had to give it, and the standard array of peripherals, plus
USB 3.0 sockets to speed up my external hard drives. Its CPU socket would handle
processors anywhere from potato to god, and while its core power connector
wouldn't handle the very tippy top tier processors, it would be properly future-
proof.

The CPU is a Pentium G3258, coming highly recommended for its ability to
overclock out of the box. It was also fairly low cost, representing only half
the total amount I was having to spend on the lot (with chassis and motherboard
splitting the rest). Its per-core performance claimed to be well ahead of Asuka
1.0's Phenom IIx6. And being Intel's *tock* build, power efficient, meaning much
less heat production -- even less chance of ever overheating again.

But it has only two cores, and one thread per core. Immediately upon completing
the build, and using a Windows 7 Professional key I'd picked up from Dreamspark
years prior, I discovered it to be unable to support quite the load I'd been
putting on Asuka for years. Streaming suddenly became an endangered prospect,
with many of my popular games taking up too much CPU time to give the encoder
any room, or worse fighting with the encoder and freezing both parties. No
amount of tweaking or enabling or disabling this or that could resolve the fact
that there were four less threads available to the system. I felt strong buyer's
remorse, lamenting that I'd had to make the purchase under such stress.

It's gotten better. I've learned what I can and can't quite stream. I've found
games that not only share the core happily with the stream encoder, but manage
to outperform much simpler games by huge margins. Minecraft even manages to run
decently, although that's more owing to having only 40 mods active rather than
200 or so.

-----

## windows 10

And so comes the announcement of Windows 10, due out July 29, 2015, and free if
installed in the first year. I'd skipped Windows 8, partly from lack of money,
mostly from strong dissatisfaction with their UI designs, and so was eager to
try the much applauded new version. I installed a Preview build into VirtualBox,
discovering a BIOS setting I hadn't yet enabled that I needed, and while the
single core it had access to made it glacially slow, it looked great.

Release day, news breaks that the notifier application in everyone's systray was
going to wait months before actually offering up the upgrade, giving priority to
existing Preview builds -- my VM didn't count -- and high spec systems. But you
could go grab the ISO and force the upgrade immediately. I subjected my laptop,
[Takara][takara], to it first, since her system is expendable -- all important
stuff happens and lives on Asuka. Don't save anything, just upgrade it to
Windows 10 Pro. Takara's hard drive is slow, the process took two hours.

And it just worked. There was the desktop, summoning forth a wallpaper I haven't
used in at least four years -- I'm still utterly baffled where Microsoft
conjured it from -- and rapidly learning my mumbly voice over a terrible laptop
microphone. New file explorer, new task manager, virtual desktops as a native
feature, almost as though Windows had discovered other OSes had been innovating.
I went to bed and woke up early to start on Asuka.

The first task was to swap hard drives. Asuka 1.0's drive, dubbed *Langley* --
after Evangelion Asuka's middle name -- had been living alongside Kimiko's old
drive since March. I couldn't bear to lose 1.5 terabytes of data, after all,
even if I'd ferociously gone through and backed up every file I could possibly
want access to on one of the externals. Kimiko's drive was only 500GB large,
and was nearing capacity after only a few months use -- Steam games get away
from you quickly -- and I'd wanted to get the 1.5TB drive back as primary.

So Windows Backup was the only guaranteed option to transfer Asuka 2.0's install
of Windows 7 Pro wholesale from one drive to another, necessitating a pit stop
on one of the external drives. Thankfully, I had 800GB available, and the backup
declared it would compress the system image to 300 -- I could fit a backup of
Asuka 2.0 twice over! I was feeling pretty good about the process.

It took two hours to image the drive.

It took another four hours to deploy it to Langley.

-----

## edge case

Windows 7 booted perfectly fine once the restore finally completed, immediately
making a restore point to save the configuration. The partition expanded without
any issues to fill the rest of the drive that didn't exist when the image was
taken. Enough stalling, I decided, let's upgrade now. Windows Update perked up
in the systray, reminding me yet again that there were some updates waiting to
go that would require a restart. It could wait; the coming OS would have its own
updates to worry about, after all.

Installing... restart... why is the boot logo still Windows 7's flag? We're
sorry, we couldn't install Windows 10. Failed in the safe OS phase of the
process, so we put Windows 7 back the way we found it.

Impressive, and greatly appreciated that at the slightest hint of trouble it
immediately backed out and restored everything. But why had it failed? Google
was unhelpful, returning months old threads about the Preview builds. Maybe
Windows Update did need to finish its work before trying an upgrade. Sounded
fair.

Update... installing... restart.....

Restart...

Launch Startup Repair?

Suddenly Asuka wasn't booting. A note of anxiety ran through me, but all would
never be lost, since the 500GB drive containing Asuka 2.0 as she was 24 hours
prior was completely detached and safe, ready to reconnect and boot in case of
disaster. System restore to an hour earlier, Windows Update can wait. There's
troubleshooting to be done about the upgrade.

What followed was some six hours of Googling, installing, restarting, failing,
installing some more, failing some more, all returning fantastically unhelpful
errors. A thread finally pointed me towards where the Setup process keeps its
logs, suggesting VirtualBox's network adapter was failing to.. adapt.. to the
coming upgrade -- sensing driver incompatibility, Windows 10 would panic and
back out of the process. Uninstall VirtualBox. Uninstall Virtual Drive Clone, an
ISO mounter I'd picked up a couple weeks earlier. Unplug everything except the
keyboard and mouse. Still failure.

At last I stumbled across a reason. Intel had just pushed a microcode update to
Microsoft, who in turn pushed it through Windows Update. This code was breaking
G3258 processors that were overclocked, was a recommended update in Windows 7,
and baked into the initial loadout of Windows 10. Angry threads had been going
on for months about the failure with this specific processor -- *my* processor.
The guaranteed fix: run stock, not overclocked at all, or disable one of the
cores. I was dumbfounded. Here yet again my panicked decision to follow my
friend's advice on buying the CPU was haunting me.

It struck me around 4am that the motherboard's BIOS had a "performance" setting,
increasing an attached processor's ability while sacrificing some heat and power
efficiency. Maybe that was overclocking it even the slightest. I flipped it to
"normal" mode, promising balanced power, speed, and heat. One last try, if it
fails I go to bed, if it succeeds I stay up with it.

Lo and behold, it made it all the way to installing OS. Then features. Then the
last minute settings.

It was taking a while. Another hour passed since landing on "Taking care of a
few things", but I could still hear the hard drive occasionally cluck with
activity. Asuka 2.0 was already pretty lived-in, and some searching revealed
this last stage was Setup migrating the Windows 7 user profile to Windows 10.

Six hours of sleep later, it was still there. No hard drive activity anymore.
The slowly pulsing color background wasn't moving. It looked well and truly
frozen. So a bit of hand wringing later, I hit the reset button.

BIOS.. boot screen.. login! Back to final setup.. "taking care of a few things",
slow pulse color.. and then stop. Frozen again.

One last resort, going against what I felt I was willing to put up with to get
it going. I disabled the second core. Boot.. startup repair couldn't find
anything to fix.. login! Desktop! Why is it so small and black..

-----

## home stretch

It had at least reached desktop, so Windows 10 was definitely installed and
functioning. But the graphics card had suddenly forgotten how many monitors I
had, or at what resolution. In the middle of trying to get it to detect the
second monitor, everything froze. Reset..

Round two, disconnected the second monitor. Asuka was now as barebones as could
be, with only keyboard, mouse, and screen attached (and network cable and sound,
of course). Still black desktop, still small. My many programs were still trying
to start up, but it felt like it was getting smarter about managing on one core.
I could increase the screen resolution -- not to native, but at least bigger.
And then, a hardware disconnect noise, reconnect, screen goes dark and returns
at native resolution. It had just finished locating the graphics driver. I felt
a little more hopeful. Still wasn't enough, though, as things froze again.

Round three, this time I reenabled fast boot in the BIOS, one of the many things
I'd tweaked in my desperation to get it working. Startup apps were still
fighting each other for core time at the desktop -- I learned the new Task
Manager doesn't ask you if you're *really* sure about killing a process anymore,
and started killing them off to give more room for the OS to do what it needed.
It turns out Core Temp doesn't play nicely with Windows 8, or 10, and was the
cause of the latest freezes. Fair enough, one uninstall later, no problem.

Updated the graphics drivers. Uninstalled ATI's bloatware. Things were starting
to look stable. Let the new Windows Update have a look, finds some updates,
maybe one of them undoes the update that broke my CPU. I couldn't hope quite
that much yet. A restart to be safe, even though Windows Update hadn't asked for
one.

Next hardware, starting with my webcam to get microphone back and try out
Cortana on Asuka -- she'd already won me over on Takara. No issues, though the
driver declared it wanted a reboot. It could wait. External drives next, both
connecting without issues, and a bit of shuffling their ports to try and fix the
media library drive which had a habit of randomly powering down under USB 3.0.
Everything connected, no problems. Restart for the webcam. Booting fine, account
converted to the Microsoft account, Cortana happily learning my voice. And all
performing better than expected, given only one core to work with.

And so I wondered. Restart. BIOS. Enable the other core. Fingers crossed so hard
if they were game models they'd glitch out the inverse kinematics and fly off
into a wall.

And lo, she did boot. Two cores, lightning fast from cold boot to login screen.
Desktop still takes about five minutes to stabilize with all the programs trying
to start up, but that's been a problem no matter how much CPU power is around.

-----

## upgraded

Through this whole process I had Bronystate open on Takara, relaying my many
troubles. I may have scared a couple people away from upgrading to Windows 10 so
soon, though I continue to stress that I seem to have been a severe edge case.
Moving Windows 7 from one hard drive to another -- a hardware change that tends
to freak out some paranoid security-minded components -- and a CPU that had been
specifically broken by a recent update that had been folded into the coming OS
release, coupled with many processes all fighting for limited core time to
acquire new drivers or simply start up, all combined to make installing Windows
10 on Asuka take about 30 hours. At the end of it all, I think it's worth it.

Cortana's voice recognition blows me away, almost perfectly understanding my
voice even if I mumble or have interfering noise in the background. And when she
does get it wrong, she at least gets it wrong in hilarious, if rather
inappropriate, ways. "Hey Cortana, I'm tired" shouldn't be interpreted as
"hentai", but it gives Bronystate something to laugh about. Her easter eggs are
a great addition of personality, something that's been sorely missing from
Windows since Clippy.

Yes I said it. I miss Clippy. And Cortana does too.

The notification toasts are wonderful, a much better solution than transient
balloons popping out of the tray. I get a built in alarm and timer app, hooked
into the notifications. The taskbar is shorter than it was in Windows 7, freeing
up some extra pixels of screen space. It natively spans both monitors.

Windows finally has a multimonitor taskbar!

And yeah there's some obnoxious features like ads in Solitaire (which seem to
function more as "hey did you know we have an app store?") or achievements for
flipping over your first card in Solitaire ("hey your grandma's Solitaire works
with Xbox now, cool huh?"), but in the coming months someone's bound to nail
down the exact addresses used to serve the ads and provide HOSTS entries to kill
them. People are going to balk at the massive datamining made possible by
Cortana's information gathering, but I feel that's a functional requirement for
the service. A good deal of search processing is clearly done off-site, and it
can't well know if you have a meeting coming if it can't see your calendar.

There's FUD about the default option to share Wifi passwords with contacts,
ignoring the part where both parties have to be on each other's contacts, and
the share seems to only fire when one tries to connect to the network. It can
use your bandwidth to help serve updates to people on the internet, muh data!
Because we all know Windows Update has always been not glacially slow.

Maybe I've lost my mind and shouldn't be okay with BREACHES OF PRIVACY, but I'm
feeling like that bad adage of "if you have nothing to hide". Cortana works with
the filesystem indexer, which doesn't have access to anything outside the user
folder. Where do I keep most of my private stuff? On the externals, not indexed,
not visible to Microsoft. If Skype is listening in on all group chats, then
some poor sap has to read through the sorts of bullshit the Bronystaters post
in our groups.

There's a couple bugs. The volume wheel on my keyboard is apparently not precise
enough for the driver's liking, causing the new on-screen volume indicator to
bug out if I scroll it too fast. Cortana has limited queries she can respond to,
without defaulting to just packing up the detected sentence and sending it to
Bing. She only uses Bing, too; someone's bound to find a way to force her to
Google. The Metro apps failed at first, but that problem was known during the
beta, and a quick command prompt later they're back in place.

Oh yeah, you can finally resize Command Prompt. Almost like someone looked at a
Linux terminal emulator in the last twenty years.

-----

So yeah, that's been my partial week. Asuka 2.0 runs Windows 10, defeating a
host of annoying, and depressing, problems. A terabyte of hard drive space has
materialized from thin air on drive C as far as all my programs are concerned.
The new task manager shows in detail how much more efficient with RAM everything
is being, even if it tends to use a bunch of core time itself for a moment.

It's been a long and highly stressful process, filled with issues out of my
control. But despite my mind's best efforts to demand I give up and put the
other hard drive back in and go back to the functional Windows 7, I did persist.

And that's personal upgrading. A change for the better.




